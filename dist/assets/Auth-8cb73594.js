import{al as r,a7 as o}from"./index-862ae978.js";const n={getUserInfo(){return r.get("/users/getMe")},userLogin(e){return r.post("/auth/login",e)},userRigster(e){return r.post("/auth/signup",e)},forgetPassword(e){return r.post("/auth/forgotPassword",e)},resetCodeFun(e){return r.post("/auth/verifyResetCode",e)},resetPassword(e){return r.put("/auth/resetPassword",e)},addNewBooking(e){return r.post("/calenders/doctors",e)},getReservations(e,t){return r.post(`/calenders/${t}/${e}`)},deleteAdmin(e){return r.delete(`/users/deleteMe/${e}`)},changeAdminPass(e){return r.put("/users/changeMyPassword",e)},changeAdminData(e){return r.put("/users/updateMe",e)}},d=o({id:"auth",state:()=>({userInfo:{name:"",email:"",password:"",role:"",_id:"",phone:""},recoveryCode:!1,emailForgetPassword:""}),actions:{async getUserInfo(){return n.getUserInfo().then(e=>{this.userInfo=e.data.data})},async userLogin(e){return n.userLogin(e).then(t=>{var s,a;return this.userInfo=(s=t.data)==null?void 0:s.data,localStorage.setItem("token",JSON.stringify((a=t.data)==null?void 0:a.token)),console.log(t),t})},async userRegister(e){return n.userRigster(e).then(t=>(this.userInfo=t.data.data,localStorage.setItem("token",JSON.stringify(t.data.token)),t))},async forgetPassword(e){return n.forgetPassword(e).then(t=>t)},async resetCodeFun(e){return n.resetCodeFun(e).then(t=>t)},async resetPassword(e){return n.resetPassword(e).then(t=>(this.userInfo=t.data.data,localStorage.setItem("token",JSON.stringify(t.data.token)),t))},async addNewBooking(e){return n.addNewBooking(e).then(t=>t)},async getReservations(e,t){return n.getReservations(e,t).then(s=>s)},async changeAdminData(e){return n.changeAdminData(e).then(t=>{this.userInfo=t.data.data})},async changeAdminPass(e){return n.changeAdminPass(e).then(t=>t)},async deleteAdmin(e){return n.deleteAdmin(e).then(t=>t)}}});export{d as a};
